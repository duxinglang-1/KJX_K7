GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 1


   1              		.file	"WriteResUtil.c"
   4              		.text
   5              	Ltext0:
 2439              	LC0:
 2440 0000 424D5000 		.ascii "BMP\0"
 2441              	LC1:
 2442 0004 50424D00 		.ascii "PBM\0"
 2443              	LC2:
 2444 0008 4A504700 		.ascii "JPG\0"
 2445              	LC3:
 2446 000c 47494600 		.ascii "GIF\0"
 2447              	LC4:
 2448 0010 41424D00 		.ascii "ABM\0"
 2449              	LC5:
 2450 0014 41564900 		.ascii "AVI\0"
 2451              	LC6:
 2452 0018 33475000 		.ascii "3GP\0"
 2453              	LC7:
 2454 001c 4D503400 		.ascii "MP4\0"
 2455              	LC8:
 2456 0020 525600   		.ascii "RV\0"
 2457              	LC9:
 2458 0023 524D00   		.ascii "RM\0"
 2459              	LC10:
 2460 0026 524D5642 		.ascii "RMVB\0"
 2460      00
 2461              	LC11:
 2462 002b 504E4700 		.ascii "PNG\0"
 2463              	LC12:
 2464 002f 50504E00 		.ascii "PPN\0"
 2465              	LC13:
 2466 0033 4D334400 		.ascii "M3D\0"
 2467              	LC14:
 2468 0037 434D5000 		.ascii "CMP\0"
 2469              	LC15:
 2470 003b 56495300 		.ascii "VIS\0"
 2471              	LC16:
 2472 003f 53564700 		.ascii "SVG\0"
 2473              	LC17:
 2474 0043 54544600 		.ascii "TTF\0"
 2475              	LC18:
 2476 0047 53544600 		.ascii "STF\0"
 2477              	LC19:
 2478 004b 43434300 		.ascii "CCC\0"
 2479              	LC20:
 2480 004f 4B545800 		.ascii "KTX\0"
 2481 0053 8DB60000 		.align 32
 2481      00008DBC 
 2481      27000000 
 2481      00
 2482              	_image_resource_info:
 2483 0060 00000000 		.long	LC0
 2484 0064 01       		.byte	1
 2485 0065 000000   		.space 3
 2486 0068 04000000 		.long	LC1
 2487 006c 04       		.byte	4
 2488 006d 000000   		.space 3
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 2


 2489 0070 08000000 		.long	LC2
 2490 0074 09       		.byte	9
 2491 0075 000000   		.space 3
 2492 0078 0C000000 		.long	LC3
 2493 007c 03       		.byte	3
 2494 007d 000000   		.space 3
 2495 0080 10000000 		.long	LC4
 2496 0084 28       		.byte	40
 2497 0085 000000   		.space 3
 2498 0088 14000000 		.long	LC5
 2499 008c 0C       		.byte	12
 2500 008d 000000   		.space 3
 2501 0090 18000000 		.long	LC6
 2502 0094 0E       		.byte	14
 2503 0095 000000   		.space 3
 2504 0098 1C000000 		.long	LC7
 2505 009c 10       		.byte	16
 2506 009d 000000   		.space 3
 2507 00a0 20000000 		.long	LC8
 2508 00a4 4A       		.byte	74
 2509 00a5 000000   		.space 3
 2510 00a8 23000000 		.long	LC9
 2511 00ac 4C       		.byte	76
 2512 00ad 000000   		.space 3
 2513 00b0 26000000 		.long	LC10
 2514 00b4 4E       		.byte	78
 2515 00b5 000000   		.space 3
 2516 00b8 2B000000 		.long	LC11
 2517 00bc 13       		.byte	19
 2518 00bd 000000   		.space 3
 2519 00c0 2F000000 		.long	LC12
 2520 00c4 48       		.byte	72
 2521 00c5 000000   		.space 3
 2522 00c8 33000000 		.long	LC13
 2523 00cc 19       		.byte	25
 2524 00cd 000000   		.space 3
 2525 00d0 37000000 		.long	LC14
 2526 00d4 1D       		.byte	29
 2527 00d5 000000   		.space 3
 2528 00d8 3B000000 		.long	LC15
 2529 00dc 31       		.byte	49
 2530 00dd 000000   		.space 3
 2531 00e0 3F000000 		.long	LC16
 2532 00e4 1B       		.byte	27
 2533 00e5 000000   		.space 3
 2534 00e8 43000000 		.long	LC17
 2535 00ec 49       		.byte	73
 2536 00ed 000000   		.space 3
 2537 00f0 47000000 		.long	LC18
 2538 00f4 49       		.byte	73
 2539 00f5 000000   		.space 3
 2540 00f8 4B000000 		.long	LC19
 2541 00fc 49       		.byte	73
 2542 00fd 000000   		.space 3
 2543 0100 4F000000 		.long	LC20
 2544 0104 43       		.byte	67
 2545 0105 000000   		.space 3
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 3


 2557              	LC21:
 2558 0108 4D503300 		.ascii "MP3\0"
 2559              	LC22:
 2560 010c 494D5900 		.ascii "IMY\0"
 2561              	LC23:
 2562 0110 4D494400 		.ascii "MID\0"
 2563              	LC24:
 2564 0114 57415600 		.ascii "WAV\0"
 2565              	LC25:
 2566 0118 4D4D4600 		.ascii "MMF\0"
 2567              	LC26:
 2568 011c 50434D00 		.ascii "PCM\0"
 2569              	LC27:
 2570 0120 44564900 		.ascii "DVI\0"
 2571              	LC28:
 2572 0124 414D5200 		.ascii "AMR\0"
 2573              	LC29:
 2574 0128 41414300 		.ascii "AAC\0"
 2575              	LC30:
 2576 012c 574D4100 		.ascii "WMA\0"
 2577              	LC31:
 2578 0130 4D344100 		.ascii "M4A\0"
 2579              	.globl _audio_resource_info
 2580 0134 8DB60000 		.align 32
 2580      00008DBF 
 2580      00000000 
 2581              	_audio_resource_info:
 2582 0140 08010000 		.long	LC21
 2583 0144 05       		.byte	5
 2584 0145 000000   		.space 3
 2585 0148 0C010000 		.long	LC22
 2586 014c 12       		.byte	18
 2587 014d 000000   		.space 3
 2588 0150 10010000 		.long	LC23
 2589 0154 11       		.byte	17
 2590 0155 000000   		.space 3
 2591 0158 14010000 		.long	LC24
 2592 015c 0D       		.byte	13
 2593 015d 000000   		.space 3
 2594 0160 18010000 		.long	LC25
 2595 0164 14       		.byte	20
 2596 0165 000000   		.space 3
 2597 0168 1C010000 		.long	LC26
 2598 016c 07       		.byte	7
 2599 016d 000000   		.space 3
 2600 0170 20010000 		.long	LC27
 2601 0174 0B       		.byte	11
 2602 0175 000000   		.space 3
 2603 0178 24010000 		.long	LC28
 2604 017c 03       		.byte	3
 2605 017d 000000   		.space 3
 2606 0180 28010000 		.long	LC29
 2607 0184 06       		.byte	6
 2608 0185 000000   		.space 3
 2609 0188 2C010000 		.long	LC30
 2610 018c 18       		.byte	24
 2611 018d 000000   		.space 3
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 4


 2612 0190 30010000 		.long	LC31
 2613 0194 19       		.byte	25
 2614 0195 000000   		.space 3
 2615              	.globl _support_media_ext
 2616              		.data
 2617              		.align 4
 2618              	_support_media_ext:
 2619 0000 14000000 		.long	LC5
 2620 0004 18000000 		.long	LC6
 2621 0008 1C000000 		.long	LC7
 2622 000c 20000000 		.long	LC8
 2623 0010 23000000 		.long	LC9
 2624 0014 26000000 		.long	LC10
 2625              	.globl _sequential_image
 2626 0018 00000000 		.text
 2626      00000000 
 2627              		.align 4
 2628              	_sequential_image:
 2629 0198 00000000 		.long	LC0
 2630 019c 02       		.byte	2
 2631 019d 000000   		.space 3
 2632 01a0 08000000 		.long	LC2
 2633 01a4 12       		.byte	18
 2634 01a5 000000   		.space 3
 2635 01a8 2B000000 		.long	LC11
 2636 01ac 29       		.byte	41
 2637 01ad 000000   		.space 3
 2638              	.lcomm _g_mtk_resgen_error_flag,16
 2640              	.globl _mtk_resgen_has_error
 2642              	_mtk_resgen_has_error:
   1:../../MMI/Resource/WriteResUtil.c **** #include "mmi_features.h"
   2:../../MMI/Resource/WriteResUtil.c **** #include "MMIDataType.h"
   3:../../MMI/Resource/WriteResUtil.c **** #include "CustDataRes.h"
   4:../../MMI/Resource/WriteResUtil.c **** #include "CustDataProts.h"
   5:../../MMI/Resource/WriteResUtil.c **** #include <string.h>
   6:../../MMI/Resource/WriteResUtil.c **** #include <stdio.h>
   7:../../MMI/Resource/WriteResUtil.c **** #include <stdarg.h>
   8:../../MMI/Resource/WriteResUtil.c **** 
   9:../../MMI/Resource/WriteResUtil.c **** #define WIN32_LEAN_AND_MEAN
  10:../../MMI/Resource/WriteResUtil.c **** #include "windows.h"
  11:../../MMI/Resource/WriteResUtil.c **** 
  12:../../MMI/Resource/WriteResUtil.c **** #include "CustResDef.h"
  13:../../MMI/Resource/WriteResUtil.c **** #include "gui_resource_type.h"
  14:../../MMI/Resource/WriteResUtil.c **** #include "ABMLoader.h"
  15:../../MMI/Resource/WriteResUtil.c **** #include "CmidiGen.h"
  16:../../MMI/Resource/WriteResUtil.c **** #include "WriteResUtil.h"
  17:../../MMI/Resource/WriteResUtil.c **** 
  18:../../MMI/Resource/WriteResUtil.c **** 
  19:../../MMI/Resource/WriteResUtil.c **** const RESOURCE_INFO audio_resource_info[] = {
  20:../../MMI/Resource/WriteResUtil.c ****     {"MP3", AUDIO_TYPE_MP3},
  21:../../MMI/Resource/WriteResUtil.c ****     {"IMY", AUDIO_TYPE_IMY},
  22:../../MMI/Resource/WriteResUtil.c ****     {"MID", AUDIO_TYPE_MID},
  23:../../MMI/Resource/WriteResUtil.c ****     {"WAV", AUDIO_TYPE_WAV},
  24:../../MMI/Resource/WriteResUtil.c ****     {"MMF", AUDIO_TYPE_MMF},
  25:../../MMI/Resource/WriteResUtil.c ****     {"PCM", AUDIO_TYPE_PCM},
  26:../../MMI/Resource/WriteResUtil.c ****     {"DVI", AUDIO_TYPE_DVI},
  27:../../MMI/Resource/WriteResUtil.c ****     {"AMR", AUDIO_TYPE_AMR},
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 5


  28:../../MMI/Resource/WriteResUtil.c ****     {"AAC", AUDIO_TYPE_AAC},
  29:../../MMI/Resource/WriteResUtil.c ****     {"WMA", AUDIO_TYPE_WMA},
  30:../../MMI/Resource/WriteResUtil.c ****     {"M4A", AUDIO_TYPE_M4A}
  31:../../MMI/Resource/WriteResUtil.c **** };
  32:../../MMI/Resource/WriteResUtil.c **** 
  33:../../MMI/Resource/WriteResUtil.c **** const S8 *support_media_ext[SUPPORT_N_MEDIA_TYPE] = { "AVI", "3GP", "MP4", "RV", "RM", "RMVB" };
  34:../../MMI/Resource/WriteResUtil.c **** 
  35:../../MMI/Resource/WriteResUtil.c **** const RESOURCE_INFO sequential_image[SUPPORT_N_SEQUENTIAL_IMAGE_TYPE] = {
  36:../../MMI/Resource/WriteResUtil.c ****     {"BMP", IMAGE_TYPE_BMP_SEQUENCE},
  37:../../MMI/Resource/WriteResUtil.c ****     {"JPG", IMAGE_TYPE_JPG_SEQUENCE},
  38:../../MMI/Resource/WriteResUtil.c **** #if defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG)
  39:../../MMI/Resource/WriteResUtil.c ****     {"PNG", IMAGE_TYPE_ABM_SEQUENCE}
  40:../../MMI/Resource/WriteResUtil.c **** #else /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
  41:../../MMI/Resource/WriteResUtil.c ****     {"PNG", IMAGE_TYPE_PNG_SEQUENCE}
  42:../../MMI/Resource/WriteResUtil.c **** #endif /* defined(__MMI_ALPHA_BLENDING__) && !defined(GDI_USING_HW_PNG) */
  43:../../MMI/Resource/WriteResUtil.c **** };
  44:../../MMI/Resource/WriteResUtil.c **** 
  45:../../MMI/Resource/WriteResUtil.c **** 
  46:../../MMI/Resource/WriteResUtil.c **** static MMI_BOOL g_mtk_resgen_error_flag = MMI_FALSE;
  47:../../MMI/Resource/WriteResUtil.c **** 
  48:../../MMI/Resource/WriteResUtil.c **** MMI_BOOL mtk_resgen_has_error()
  49:../../MMI/Resource/WriteResUtil.c **** {
 2644              	LM1:
 2645 01b0 55       		pushl	%ebp
 2646 01b1 89E5     		movl	%esp, %ebp
  50:../../MMI/Resource/WriteResUtil.c ****     return g_mtk_resgen_error_flag;
 2648              	LM2:
 2649 01b3 A1000000 		movl	_g_mtk_resgen_error_flag, %eax
 2649      00
  51:../../MMI/Resource/WriteResUtil.c **** }
 2651              	LM3:
 2652 01b8 5D       		popl	%ebp
 2653 01b9 C3       		ret
 2654              	Lscope0:
 2657              	.globl _mtk_resgen_set_error
 2659              	_mtk_resgen_set_error:
  52:../../MMI/Resource/WriteResUtil.c **** 
  53:../../MMI/Resource/WriteResUtil.c **** MMI_BOOL mtk_resgen_set_error()
  54:../../MMI/Resource/WriteResUtil.c **** {
 2661              	LM4:
 2662 01ba 55       		pushl	%ebp
 2663 01bb 89E5     		movl	%esp, %ebp
  55:../../MMI/Resource/WriteResUtil.c ****     g_mtk_resgen_error_flag = MMI_TRUE;
 2665              	LM5:
 2666 01bd C7050000 		movl	$1, _g_mtk_resgen_error_flag
 2666      00000100 
 2666      0000
  56:../../MMI/Resource/WriteResUtil.c **** }
 2668              	LM6:
 2669 01c7 5D       		popl	%ebp
 2670 01c8 C3       		ret
 2671              	Lscope1:
 2674              	.globl _mtk_resgen_reset_error
 2676              	_mtk_resgen_reset_error:
  57:../../MMI/Resource/WriteResUtil.c **** 
  58:../../MMI/Resource/WriteResUtil.c **** MMI_BOOL mtk_resgen_reset_error()
  59:../../MMI/Resource/WriteResUtil.c **** {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 6


 2678              	LM7:
 2679 01c9 55       		pushl	%ebp
 2680 01ca 89E5     		movl	%esp, %ebp
  60:../../MMI/Resource/WriteResUtil.c ****     g_mtk_resgen_error_flag = MMI_FALSE;
 2682              	LM8:
 2683 01cc C7050000 		movl	$0, _g_mtk_resgen_error_flag
 2683      00000000 
 2683      0000
  61:../../MMI/Resource/WriteResUtil.c **** }
 2685              	LM9:
 2686 01d6 5D       		popl	%ebp
 2687 01d7 C3       		ret
 2688              	Lscope2:
 2692              	.globl _file_exist
 2694              	_file_exist:
  62:../../MMI/Resource/WriteResUtil.c **** 
  63:../../MMI/Resource/WriteResUtil.c **** /*****************************************************************************
  64:../../MMI/Resource/WriteResUtil.c ****  * FUNCTION
  65:../../MMI/Resource/WriteResUtil.c ****  *  file_exist
  66:../../MMI/Resource/WriteResUtil.c ****  * DESCRIPTION
  67:../../MMI/Resource/WriteResUtil.c ****  *  test whether the file exists
  68:../../MMI/Resource/WriteResUtil.c ****  * PARAMETERS
  69:../../MMI/Resource/WriteResUtil.c ****  *  void
  70:../../MMI/Resource/WriteResUtil.c ****  * RETURNS
  71:../../MMI/Resource/WriteResUtil.c ****  *  MMI_BOOL		MMI_TRUE or MMI_FALSE
  72:../../MMI/Resource/WriteResUtil.c ****  *****************************************************************************/
  73:../../MMI/Resource/WriteResUtil.c **** MMI_BOOL file_exist(S8* filename)
  74:../../MMI/Resource/WriteResUtil.c **** {
 2696              	LM10:
 2697 01d8 55       		pushl	%ebp
 2698 01d9 89E5     		movl	%esp, %ebp
 2699 01db 83EC18   		subl	$24, %esp
  75:../../MMI/Resource/WriteResUtil.c ****     DWORD fileAttr;
  76:../../MMI/Resource/WriteResUtil.c **** 
  77:../../MMI/Resource/WriteResUtil.c ****     fileAttr = GetFileAttributes(filename);
 2701              	LM11:
 2702              	LBB2:
 2703 01de 8B4508   		movl	8(%ebp), %eax
 2704 01e1 890424   		movl	%eax, (%esp)
 2705 01e4 E8000000 		call	_GetFileAttributesA@4
 2705      00
 2706 01e9 83EC04   		subl	$4, %esp
 2707 01ec 8945FC   		movl	%eax, -4(%ebp)
  78:../../MMI/Resource/WriteResUtil.c ****     if (0xFFFFFFFF == fileAttr || ( (fileAttr & FILE_ATTRIBUTE_DIRECTORY) != 0) )
 2709              	LM12:
 2710 01ef 837DFCFF 		cmpl	$-1, -4(%ebp)
 2711 01f3 740C     		je	L26
 2712 01f5 8B45FC   		movl	-4(%ebp), %eax
 2713 01f8 83E010   		andl	$16, %eax
 2714 01fb 85C0     		testl	%eax, %eax
 2715 01fd 7502     		jne	L26
 2716 01ff EB09     		jmp	L25
 2717              	L26:
  79:../../MMI/Resource/WriteResUtil.c ****     {
  80:../../MMI/Resource/WriteResUtil.c ****         return MMI_FALSE;
 2719              	LM13:
 2720 0201 C745F800 		movl	$0, -8(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 7


 2720      000000
 2721 0208 EB07     		jmp	L24
 2722              	L25:
  81:../../MMI/Resource/WriteResUtil.c ****     }
  82:../../MMI/Resource/WriteResUtil.c ****     return MMI_TRUE;
 2724              	LM14:
 2725 020a C745F801 		movl	$1, -8(%ebp)
 2725      000000
  83:../../MMI/Resource/WriteResUtil.c **** }
 2727              	LM15:
 2728              	L24:
 2729              	LBE2:
 2730 0211 8B45F8   		movl	-8(%ebp), %eax
 2731 0214 C9       		leave
 2732 0215 C3       		ret
 2736              	Lscope3:
 2740              	.globl _is_directory
 2742              	_is_directory:
  84:../../MMI/Resource/WriteResUtil.c **** 
  85:../../MMI/Resource/WriteResUtil.c **** 
  86:../../MMI/Resource/WriteResUtil.c **** MMI_BOOL is_directory(S8* filename)
  87:../../MMI/Resource/WriteResUtil.c **** {
 2744              	LM16:
 2745 0216 55       		pushl	%ebp
 2746 0217 89E5     		movl	%esp, %ebp
 2747 0219 83EC18   		subl	$24, %esp
  88:../../MMI/Resource/WriteResUtil.c ****     DWORD fileAttr;
  89:../../MMI/Resource/WriteResUtil.c **** 
  90:../../MMI/Resource/WriteResUtil.c ****     fileAttr = GetFileAttributes(filename);
 2749              	LM17:
 2750              	LBB3:
 2751 021c 8B4508   		movl	8(%ebp), %eax
 2752 021f 890424   		movl	%eax, (%esp)
 2753 0222 E8000000 		call	_GetFileAttributesA@4
 2753      00
 2754 0227 83EC04   		subl	$4, %esp
 2755 022a 8945FC   		movl	%eax, -4(%ebp)
  91:../../MMI/Resource/WriteResUtil.c ****     if (0xFFFFFFFF == fileAttr)
 2757              	LM18:
 2758 022d 837DFCFF 		cmpl	$-1, -4(%ebp)
 2759 0231 7509     		jne	L28
  92:../../MMI/Resource/WriteResUtil.c ****     {
  93:../../MMI/Resource/WriteResUtil.c ****         return MMI_FALSE;
 2761              	LM19:
 2762 0233 C745F800 		movl	$0, -8(%ebp)
 2762      000000
 2763 023a EB1A     		jmp	L27
 2764              	L28:
  94:../../MMI/Resource/WriteResUtil.c ****     }
  95:../../MMI/Resource/WriteResUtil.c ****     if ( (fileAttr & FILE_ATTRIBUTE_DIRECTORY) != 0)
 2766              	LM20:
 2767 023c 8B45FC   		movl	-4(%ebp), %eax
 2768 023f 83E010   		andl	$16, %eax
 2769 0242 85C0     		testl	%eax, %eax
 2770 0244 7409     		je	L29
  96:../../MMI/Resource/WriteResUtil.c ****     {
  97:../../MMI/Resource/WriteResUtil.c ****         return MMI_TRUE;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 8


 2772              	LM21:
 2773 0246 C745F801 		movl	$1, -8(%ebp)
 2773      000000
 2774 024d EB07     		jmp	L27
 2775              	L29:
  98:../../MMI/Resource/WriteResUtil.c ****     }
  99:../../MMI/Resource/WriteResUtil.c ****     return MMI_FALSE;
 2777              	LM22:
 2778 024f C745F800 		movl	$0, -8(%ebp)
 2778      000000
 100:../../MMI/Resource/WriteResUtil.c **** }
 2780              	LM23:
 2781              	L27:
 2782              	LBE3:
 2783 0256 8B45F8   		movl	-8(%ebp), %eax
 2784 0259 C9       		leave
 2785 025a C3       		ret
 2789              	Lscope4:
 2794              	.globl _resgen_compare_file_time
 2796              	_resgen_compare_file_time:
 101:../../MMI/Resource/WriteResUtil.c **** 
 102:../../MMI/Resource/WriteResUtil.c **** 
 103:../../MMI/Resource/WriteResUtil.c **** U32 resgen_compare_file_time(S8* file1, S8* file2)
 104:../../MMI/Resource/WriteResUtil.c **** {
 2798              	LM24:
 2799 025b 55       		pushl	%ebp
 2800 025c 89E5     		movl	%esp, %ebp
 2801 025e 81ECA802 		subl	$680, %esp
 2801      0000
 105:../../MMI/Resource/WriteResUtil.c ****     WIN32_FIND_DATA data1;
 106:../../MMI/Resource/WriteResUtil.c ****     WIN32_FIND_DATA data2;
 107:../../MMI/Resource/WriteResUtil.c ****     HANDLE search = NULL;
 2803              	LM25:
 2804              	LBB4:
 2805 0264 C78574FD 		movl	$0, -652(%ebp)
 2805      FFFF0000 
 2805      0000
 108:../../MMI/Resource/WriteResUtil.c ****     search = FindFirstFile(file1, &data1);
 2807              	LM26:
 2808 026e 8D85B8FE 		leal	-328(%ebp), %eax
 2808      FFFF
 2809 0274 89442404 		movl	%eax, 4(%esp)
 2810 0278 8B4508   		movl	8(%ebp), %eax
 2811 027b 890424   		movl	%eax, (%esp)
 2812 027e E8000000 		call	_FindFirstFileA@8
 2812      00
 2813 0283 83EC08   		subl	$8, %esp
 2814 0286 898574FD 		movl	%eax, -652(%ebp)
 2814      FFFF
 109:../../MMI/Resource/WriteResUtil.c ****     if (search != INVALID_HANDLE_VALUE)
 2816              	LM27:
 2817 028c 83BD74FD 		cmpl	$-1, -652(%ebp)
 2817      FFFFFF
 2818 0293 0F848600 		je	L31
 2818      0000
 110:../../MMI/Resource/WriteResUtil.c ****     {
 111:../../MMI/Resource/WriteResUtil.c ****         FindClose(search);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 9


 2820              	LM28:
 2821 0299 8B8574FD 		movl	-652(%ebp), %eax
 2821      FFFF
 2822 029f 890424   		movl	%eax, (%esp)
 2823 02a2 E8000000 		call	_FindClose@4
 2823      00
 2824 02a7 83EC04   		subl	$4, %esp
 112:../../MMI/Resource/WriteResUtil.c ****         search = NULL;
 2826              	LM29:
 2827 02aa C78574FD 		movl	$0, -652(%ebp)
 2827      FFFF0000 
 2827      0000
 113:../../MMI/Resource/WriteResUtil.c **** 
 114:../../MMI/Resource/WriteResUtil.c ****         search = FindFirstFile(file2, &data2);
 2829              	LM30:
 2830 02b4 8D8578FD 		leal	-648(%ebp), %eax
 2830      FFFF
 2831 02ba 89442404 		movl	%eax, 4(%esp)
 2832 02be 8B450C   		movl	12(%ebp), %eax
 2833 02c1 890424   		movl	%eax, (%esp)
 2834 02c4 E8000000 		call	_FindFirstFileA@8
 2834      00
 2835 02c9 83EC08   		subl	$8, %esp
 2836 02cc 898574FD 		movl	%eax, -652(%ebp)
 2836      FFFF
 115:../../MMI/Resource/WriteResUtil.c ****         if (search != INVALID_HANDLE_VALUE)
 2838              	LM31:
 2839 02d2 83BD74FD 		cmpl	$-1, -652(%ebp)
 2839      FFFFFF
 2840 02d9 7444     		je	L31
 116:../../MMI/Resource/WriteResUtil.c ****         {
 117:../../MMI/Resource/WriteResUtil.c ****             FindClose(search);
 2842              	LM32:
 2843 02db 8B8574FD 		movl	-652(%ebp), %eax
 2843      FFFF
 2844 02e1 890424   		movl	%eax, (%esp)
 2845 02e4 E8000000 		call	_FindClose@4
 2845      00
 2846 02e9 83EC04   		subl	$4, %esp
 118:../../MMI/Resource/WriteResUtil.c ****             search = NULL;
 2848              	LM33:
 2849 02ec C78574FD 		movl	$0, -652(%ebp)
 2849      FFFF0000 
 2849      0000
 119:../../MMI/Resource/WriteResUtil.c **** 
 120:../../MMI/Resource/WriteResUtil.c ****             return CompareFileTime(&(data2.ftLastWriteTime), &(data1.ftLastWriteTime));
 2851              	LM34:
 2852 02f6 8D85B8FE 		leal	-328(%ebp), %eax
 2852      FFFF
 2853 02fc 83C014   		addl	$20, %eax
 2854 02ff 89442404 		movl	%eax, 4(%esp)
 2855 0303 8D8578FD 		leal	-648(%ebp), %eax
 2855      FFFF
 2856 0309 83C014   		addl	$20, %eax
 2857 030c 890424   		movl	%eax, (%esp)
 2858 030f E8000000 		call	_CompareFileTime@8
 2858      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 10


 2859 0314 83EC08   		subl	$8, %esp
 2860 0317 898570FD 		movl	%eax, -656(%ebp)
 2860      FFFF
 2861 031d EB0A     		jmp	L30
 2862              	L31:
 121:../../MMI/Resource/WriteResUtil.c ****         }
 122:../../MMI/Resource/WriteResUtil.c ****     }
 123:../../MMI/Resource/WriteResUtil.c ****     return 1;
 2864              	LM35:
 2865 031f C78570FD 		movl	$1, -656(%ebp)
 2865      FFFF0100 
 2865      0000
 124:../../MMI/Resource/WriteResUtil.c **** }
 2867              	LM36:
 2868              	L30:
 2869              	LBE4:
 2870 0329 8B8570FD 		movl	-656(%ebp), %eax
 2870      FFFF
 2871 032f C9       		leave
 2872 0330 C3       		ret
 2878              	Lscope5:
 2880 0331 EB0D9090 		.align 32
 2880      90909090 
 2880      90909090 
 2880      909090
 2881              	LC32:
 2882 0340 7265735F 		.ascii "res_type in Extract_Name is invalid!!\0"
 2882      74797065 
 2882      20696E20 
 2882      45787472 
 2882      6163745F 
 2886              	.globl _ExtractExtension
 2888              	_ExtractExtension:
 125:../../MMI/Resource/WriteResUtil.c **** 
 126:../../MMI/Resource/WriteResUtil.c **** /*****************************************************************************
 127:../../MMI/Resource/WriteResUtil.c ****  * FUNCTION
 128:../../MMI/Resource/WriteResUtil.c ****  *  ExtractExtension
 129:../../MMI/Resource/WriteResUtil.c ****  * DESCRIPTION
 130:../../MMI/Resource/WriteResUtil.c ****  *  Function Extracting the extension
 131:../../MMI/Resource/WriteResUtil.c ****  * PARAMETERS
 132:../../MMI/Resource/WriteResUtil.c ****  *  src             [?]         
 133:../../MMI/Resource/WriteResUtil.c ****  *  res_type        [IN]        -> resource type
 134:../../MMI/Resource/WriteResUtil.c ****  *  string(?)       [IN]        -> string containing file name
 135:../../MMI/Resource/WriteResUtil.c ****  * RETURNS
 136:../../MMI/Resource/WriteResUtil.c ****  *  U8
 137:../../MMI/Resource/WriteResUtil.c ****  *****************************************************************************/
 138:../../MMI/Resource/WriteResUtil.c **** U8 ExtractExtension(S8 *src, U32 res_type)
 139:../../MMI/Resource/WriteResUtil.c **** {
 2890              	LM37:
 2891 0366 55       		pushl	%ebp
 2892 0367 89E5     		movl	%esp, %ebp
 2893 0369 83EC28   		subl	$40, %esp
 140:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 141:../../MMI/Resource/WriteResUtil.c ****     /* Local Variables                                                */
 142:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 143:../../MMI/Resource/WriteResUtil.c ****     S32 i, j;
 144:../../MMI/Resource/WriteResUtil.c ****     S32 type_number;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 11


 145:../../MMI/Resource/WriteResUtil.c ****     U8 ret = 0;
 2895              	LM38:
 2896              	LBB5:
 2897 036c C645F300 		movb	$0, -13(%ebp)
 146:../../MMI/Resource/WriteResUtil.c ****     S8 *arr;
 147:../../MMI/Resource/WriteResUtil.c ****     RESOURCE_INFO *pResource_info;
 148:../../MMI/Resource/WriteResUtil.c **** 
 149:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 150:../../MMI/Resource/WriteResUtil.c ****     /* Code Body                                                      */
 151:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 152:../../MMI/Resource/WriteResUtil.c ****     i = strlen(src) - 1;
 2899              	LM39:
 2900 0370 8B4508   		movl	8(%ebp), %eax
 2901 0373 890424   		movl	%eax, (%esp)
 2902 0376 E8000000 		call	_strlen
 2902      00
 2903 037b 48       		decl	%eax
 2904 037c 8945FC   		movl	%eax, -4(%ebp)
 153:../../MMI/Resource/WriteResUtil.c ****     arr = src+i;
 2906              	LM40:
 2907 037f 8B45FC   		movl	-4(%ebp), %eax
 2908 0382 034508   		addl	8(%ebp), %eax
 2909 0385 8945EC   		movl	%eax, -20(%ebp)
 154:../../MMI/Resource/WriteResUtil.c **** 
 155:../../MMI/Resource/WriteResUtil.c ****     for (j = 0; j < 5 ; j++)
 2911              	LM41:
 2912 0388 C745F800 		movl	$0, -8(%ebp)
 2912      000000
 2913              	L34:
 2914 038f 837DF804 		cmpl	$4, -8(%ebp)
 2915 0393 7E02     		jle	L37
 2916 0395 EB1B     		jmp	L35
 2917              	L37:
 156:../../MMI/Resource/WriteResUtil.c ****     {
 157:../../MMI/Resource/WriteResUtil.c ****         if(*arr == '.')
 2919              	LM42:
 2920 0397 8B45EC   		movl	-20(%ebp), %eax
 2921 039a 80382E   		cmpb	$46, (%eax)
 2922 039d 7507     		jne	L38
 158:../../MMI/Resource/WriteResUtil.c ****         {
 159:../../MMI/Resource/WriteResUtil.c ****             arr++;
 2924              	LM43:
 2925 039f 8D45EC   		leal	-20(%ebp), %eax
 2926 03a2 FF00     		incl	(%eax)
 160:../../MMI/Resource/WriteResUtil.c ****             break;
 2928              	LM44:
 2929 03a4 EB0C     		jmp	L35
 2930              	L38:
 161:../../MMI/Resource/WriteResUtil.c ****         }
 162:../../MMI/Resource/WriteResUtil.c ****         else
 163:../../MMI/Resource/WriteResUtil.c ****     {
 164:../../MMI/Resource/WriteResUtil.c ****             arr--;
 2932              	LM45:
 2933 03a6 8D45EC   		leal	-20(%ebp), %eax
 2934 03a9 FF08     		decl	(%eax)
 2936              	LM46:
 2937 03ab 8D45F8   		leal	-8(%ebp), %eax
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 12


 2938 03ae FF00     		incl	(%eax)
 2939 03b0 EBDD     		jmp	L34
 2940              	L35:
 165:../../MMI/Resource/WriteResUtil.c ****         }
 166:../../MMI/Resource/WriteResUtil.c ****     }
 167:../../MMI/Resource/WriteResUtil.c **** 
 168:../../MMI/Resource/WriteResUtil.c ****     if(j >= 5)
 2942              	LM47:
 2943 03b2 837DF804 		cmpl	$4, -8(%ebp)
 2944 03b6 7E0C     		jle	L40
 169:../../MMI/Resource/WriteResUtil.c ****     {
 170:../../MMI/Resource/WriteResUtil.c ****         return ret;
 2946              	LM48:
 2947 03b8 0FB645F3 		movzbl	-13(%ebp), %eax
 2948 03bc 8945E4   		movl	%eax, -28(%ebp)
 2949 03bf E9B70000 		jmp	L33
 2949      00
 2950              	L40:
 171:../../MMI/Resource/WriteResUtil.c ****     }
 172:../../MMI/Resource/WriteResUtil.c **** 
 173:../../MMI/Resource/WriteResUtil.c ****     switch (res_type)
 2952              	LM49:
 2953 03c4 8B450C   		movl	12(%ebp), %eax
 2954 03c7 8945E0   		movl	%eax, -32(%ebp)
 2955 03ca 837DE002 		cmpl	$2, -32(%ebp)
 2956 03ce 7422     		je	L45
 2957 03d0 837DE002 		cmpl	$2, -32(%ebp)
 2958 03d4 7208     		jb	L44
 2959 03d6 837DE004 		cmpl	$4, -32(%ebp)
 2960 03da 7402     		je	L44
 2961 03dc EB28     		jmp	L46
 2962              	L44:
 174:../../MMI/Resource/WriteResUtil.c ****     {
 175:../../MMI/Resource/WriteResUtil.c ****         case RES_IMAGE:
 176:../../MMI/Resource/WriteResUtil.c ****         case RES_MEDIA:
 177:../../MMI/Resource/WriteResUtil.c ****         case RES_FONT:
 178:../../MMI/Resource/WriteResUtil.c ****             ret = IMAGE_TYPE_INVALID;
 2964              	LM50:
 2965 03de C645F300 		movb	$0, -13(%ebp)
 179:../../MMI/Resource/WriteResUtil.c ****             pResource_info = image_resource_info;
 2967              	LM51:
 2968 03e2 C745E860 		movl	$_image_resource_info, -24(%ebp)
 2968      000000
 180:../../MMI/Resource/WriteResUtil.c ****             type_number = sizeof(image_resource_info) / sizeof(RESOURCE_INFO);
 2970              	LM52:
 2971 03e9 C745F415 		movl	$21, -12(%ebp)
 2971      000000
 181:../../MMI/Resource/WriteResUtil.c ****             break;
 2973              	LM53:
 2974 03f0 EB32     		jmp	L41
 2975              	L45:
 182:../../MMI/Resource/WriteResUtil.c **** 
 183:../../MMI/Resource/WriteResUtil.c ****         case RES_AUDIO:
 184:../../MMI/Resource/WriteResUtil.c ****             ret = AUDIO_TYPE_INVALID;
 2977              	LM54:
 2978 03f2 C645F300 		movb	$0, -13(%ebp)
 185:../../MMI/Resource/WriteResUtil.c ****             pResource_info = audio_resource_info;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 13


 2980              	LM55:
 2981 03f6 C745E840 		movl	$_audio_resource_info, -24(%ebp)
 2981      010000
 186:../../MMI/Resource/WriteResUtil.c ****             type_number = sizeof(audio_resource_info) / sizeof(RESOURCE_INFO);
 2983              	LM56:
 2984 03fd C745F40B 		movl	$11, -12(%ebp)
 2984      000000
 187:../../MMI/Resource/WriteResUtil.c ****             break;
 2986              	LM57:
 2987 0404 EB1E     		jmp	L41
 2988              	L46:
 188:../../MMI/Resource/WriteResUtil.c **** 
 189:../../MMI/Resource/WriteResUtil.c ****         default:
 190:../../MMI/Resource/WriteResUtil.c ****             RES_PRINT_INFO("res_type in Extract_Name is invalid!!");
 2990              	LM58:
 2991 0406 C7042440 		movl	$LC32, (%esp)
 2991      030000
 2992 040d E8000000 		call	_MtkResgenTrace
 2992      00
 191:../../MMI/Resource/WriteResUtil.c ****             ret = IMAGE_TYPE_INVALID;
 2994              	LM59:
 2995 0412 C645F300 		movb	$0, -13(%ebp)
 192:../../MMI/Resource/WriteResUtil.c ****             pResource_info = image_resource_info;
 2997              	LM60:
 2998 0416 C745E860 		movl	$_image_resource_info, -24(%ebp)
 2998      000000
 193:../../MMI/Resource/WriteResUtil.c ****             type_number = sizeof(image_resource_info) / sizeof(RESOURCE_INFO);
 3000              	LM61:
 3001 041d C745F415 		movl	$21, -12(%ebp)
 3001      000000
 3002              	L41:
 194:../../MMI/Resource/WriteResUtil.c ****             break;
 195:../../MMI/Resource/WriteResUtil.c ****     }
 196:../../MMI/Resource/WriteResUtil.c **** 
 197:../../MMI/Resource/WriteResUtil.c ****     for (i = 0; i < type_number; i++)
 3004              	LM62:
 3005 0424 C745FC00 		movl	$0, -4(%ebp)
 3005      000000
 3006              	L48:
 3007 042b 8B45FC   		movl	-4(%ebp), %eax
 3008 042e 3B45F4   		cmpl	-12(%ebp), %eax
 3009 0431 7C02     		jl	L51
 3010 0433 EB3F     		jmp	L49
 3011              	L51:
 198:../../MMI/Resource/WriteResUtil.c ****     {
 199:../../MMI/Resource/WriteResUtil.c ****         if (!(strcmp(arr, pResource_info[i].filename_ext)))
 3013              	LM63:
 3014 0435 8B45FC   		movl	-4(%ebp), %eax
 3015 0438 8D14C500 		leal	0(,%eax,8), %edx
 3015      000000
 3016 043f 8B45E8   		movl	-24(%ebp), %eax
 3017 0442 8B0410   		movl	(%eax,%edx), %eax
 3018 0445 89442404 		movl	%eax, 4(%esp)
 3019 0449 8B45EC   		movl	-20(%ebp), %eax
 3020 044c 890424   		movl	%eax, (%esp)
 3021 044f E8000000 		call	_strcmp
 3021      00
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 14


 3022 0454 85C0     		testl	%eax, %eax
 3023 0456 7515     		jne	L50
 200:../../MMI/Resource/WriteResUtil.c ****         {
 201:../../MMI/Resource/WriteResUtil.c ****             ret = pResource_info[i].file_type;
 3025              	LM64:
 3026 0458 8B45FC   		movl	-4(%ebp), %eax
 3027 045b 8D14C500 		leal	0(,%eax,8), %edx
 3027      000000
 3028 0462 8B45E8   		movl	-24(%ebp), %eax
 3029 0465 0FB64410 		movzbl	4(%eax,%edx), %eax
 3029      04
 3030 046a 8845F3   		movb	%al, -13(%ebp)
 3032              	LM65:
 3033              	L50:
 3034 046d 8D45FC   		leal	-4(%ebp), %eax
 3035 0470 FF00     		incl	(%eax)
 3036 0472 EBB7     		jmp	L48
 3037              	L49:
 202:../../MMI/Resource/WriteResUtil.c ****         }
 203:../../MMI/Resource/WriteResUtil.c ****     }
 204:../../MMI/Resource/WriteResUtil.c **** 
 205:../../MMI/Resource/WriteResUtil.c ****     return ret;
 3039              	LM66:
 3040 0474 0FB645F3 		movzbl	-13(%ebp), %eax
 3041 0478 8945E4   		movl	%eax, -28(%ebp)
 206:../../MMI/Resource/WriteResUtil.c **** }
 3043              	LM67:
 3044              	L33:
 3045              	LBE5:
 3046 047b 8B45E4   		movl	-28(%ebp), %eax
 3047 047e C9       		leave
 3048 047f C3       		ret
 3057              	Lscope6:
 3063              	.globl _ChangeExtension
 3065              	_ChangeExtension:
 207:../../MMI/Resource/WriteResUtil.c **** 
 208:../../MMI/Resource/WriteResUtil.c **** 
 209:../../MMI/Resource/WriteResUtil.c **** /*****************************************************************************
 210:../../MMI/Resource/WriteResUtil.c ****  * FUNCTION
 211:../../MMI/Resource/WriteResUtil.c ****  *  ChangeExtension
 212:../../MMI/Resource/WriteResUtil.c ****  * DESCRIPTION
 213:../../MMI/Resource/WriteResUtil.c ****  *  Function Change the extension
 214:../../MMI/Resource/WriteResUtil.c ****  * PARAMETERS
 215:../../MMI/Resource/WriteResUtil.c ****  *  src             [IN]        -> string containing file name 
 216:../../MMI/Resource/WriteResUtil.c ****  *  res_type        [IN]        -> resource type
 217:../../MMI/Resource/WriteResUtil.c ****  *  ext_type        [IN]        -> extension type
 218:../../MMI/Resource/WriteResUtil.c ****  * RETURNS
 219:../../MMI/Resource/WriteResUtil.c ****  *  BOOL
 220:../../MMI/Resource/WriteResUtil.c ****  *****************************************************************************/
 221:../../MMI/Resource/WriteResUtil.c **** BOOL ChangeExtension(S8 *src, U32 res_type, S32 ext_type)
 222:../../MMI/Resource/WriteResUtil.c **** {
 3067              	LM68:
 3068 0480 55       		pushl	%ebp
 3069 0481 89E5     		movl	%esp, %ebp
 3070 0483 53       		pushl	%ebx
 3071 0484 83EC24   		subl	$36, %esp
 223:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 15


 224:../../MMI/Resource/WriteResUtil.c ****     /* Local Variables                                                */
 225:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 226:../../MMI/Resource/WriteResUtil.c ****     S32 i, j;
 227:../../MMI/Resource/WriteResUtil.c ****     S32 type_number;
 228:../../MMI/Resource/WriteResUtil.c ****     U8 ret = 0;
 3073              	LM69:
 3074              	LBB6:
 3075 0487 C645EF00 		movb	$0, -17(%ebp)
 229:../../MMI/Resource/WriteResUtil.c ****     S8 *arr;
 230:../../MMI/Resource/WriteResUtil.c ****     RESOURCE_INFO *pResource_info;
 231:../../MMI/Resource/WriteResUtil.c **** 
 232:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 233:../../MMI/Resource/WriteResUtil.c ****     /* Code Body                                                      */
 234:../../MMI/Resource/WriteResUtil.c ****     /*----------------------------------------------------------------*/
 235:../../MMI/Resource/WriteResUtil.c ****     i = strlen(src) - 1;
 3077              	LM70:
 3078 048b 8B4508   		movl	8(%ebp), %eax
 3079 048e 890424   		movl	%eax, (%esp)
 3080 0491 E8000000 		call	_strlen
 3080      00
 3081 0496 48       		decl	%eax
 3082 0497 8945F8   		movl	%eax, -8(%ebp)
 236:../../MMI/Resource/WriteResUtil.c ****     arr = src+i;
 3084              	LM71:
 3085 049a 8B45F8   		movl	-8(%ebp), %eax
 3086 049d 034508   		addl	8(%ebp), %eax
 3087 04a0 8945E8   		movl	%eax, -24(%ebp)
 237:../../MMI/Resource/WriteResUtil.c **** 
 238:../../MMI/Resource/WriteResUtil.c ****     for (j = 0; j < 5 ; j--)
 3089              	LM72:
 3090 04a3 C745F400 		movl	$0, -12(%ebp)
 3090      000000
 3091              	L54:
 3092 04aa 837DF404 		cmpl	$4, -12(%ebp)
 3093 04ae 7E02     		jle	L57
 3094 04b0 EB1B     		jmp	L55
 3095              	L57:
 239:../../MMI/Resource/WriteResUtil.c ****     {
 240:../../MMI/Resource/WriteResUtil.c ****         if(*arr == '.')
 3097              	LM73:
 3098 04b2 8B45E8   		movl	-24(%ebp), %eax
 3099 04b5 80382E   		cmpb	$46, (%eax)
 3100 04b8 7507     		jne	L58
 241:../../MMI/Resource/WriteResUtil.c ****         {
 242:../../MMI/Resource/WriteResUtil.c ****             arr++;
 3102              	LM74:
 3103 04ba 8D45E8   		leal	-24(%ebp), %eax
 3104 04bd FF00     		incl	(%eax)
 243:../../MMI/Resource/WriteResUtil.c ****             break;
 3106              	LM75:
 3107 04bf EB0C     		jmp	L55
 3108              	L58:
 244:../../MMI/Resource/WriteResUtil.c ****         }
 245:../../MMI/Resource/WriteResUtil.c ****         else
 246:../../MMI/Resource/WriteResUtil.c ****         {
 247:../../MMI/Resource/WriteResUtil.c ****             arr--;
 3110              	LM76:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 16


 3111 04c1 8D45E8   		leal	-24(%ebp), %eax
 3112 04c4 FF08     		decl	(%eax)
 3114              	LM77:
 3115 04c6 8D45F4   		leal	-12(%ebp), %eax
 3116 04c9 FF08     		decl	(%eax)
 3117 04cb EBDD     		jmp	L54
 3118              	L55:
 248:../../MMI/Resource/WriteResUtil.c ****         }
 249:../../MMI/Resource/WriteResUtil.c ****     }
 250:../../MMI/Resource/WriteResUtil.c **** 
 251:../../MMI/Resource/WriteResUtil.c ****     if (j >= 5)
 3120              	LM78:
 3121 04cd 837DF404 		cmpl	$4, -12(%ebp)
 3122 04d1 7E0C     		jle	L60
 252:../../MMI/Resource/WriteResUtil.c ****     {
 253:../../MMI/Resource/WriteResUtil.c ****         return FALSE;
 3124              	LM79:
 3125 04d3 C745E000 		movl	$0, -32(%ebp)
 3125      000000
 3126 04da E9D90000 		jmp	L53
 3126      00
 3127              	L60:
 254:../../MMI/Resource/WriteResUtil.c ****     }
 255:../../MMI/Resource/WriteResUtil.c **** 
 256:../../MMI/Resource/WriteResUtil.c ****     switch (res_type)
 3129              	LM80:
 3130 04df 8B450C   		movl	12(%ebp), %eax
 3131 04e2 8945DC   		movl	%eax, -36(%ebp)
 3132 04e5 837DDC01 		cmpl	$1, -36(%ebp)
 3133 04e9 7608     		jbe	L63
 3134 04eb 837DDC02 		cmpl	$2, -36(%ebp)
 3135 04ef 7416     		je	L64
 3136 04f1 EB28     		jmp	L65
 3137              	L63:
 257:../../MMI/Resource/WriteResUtil.c ****     {
 258:../../MMI/Resource/WriteResUtil.c ****         case RES_IMAGE:
 259:../../MMI/Resource/WriteResUtil.c ****         case RES_MEDIA:
 260:../../MMI/Resource/WriteResUtil.c ****             ret = IMAGE_TYPE_INVALID;
 3139              	LM81:
 3140 04f3 C645EF00 		movb	$0, -17(%ebp)
 261:../../MMI/Resource/WriteResUtil.c ****             pResource_info = image_resource_info;
 3142              	LM82:
 3143 04f7 C745E460 		movl	$_image_resource_info, -28(%ebp)
 3143      000000
 262:../../MMI/Resource/WriteResUtil.c ****             type_number = sizeof(image_resource_info) / sizeof(RESOURCE_INFO);
 3145              	LM83:
 3146 04fe C745F015 		movl	$21, -16(%ebp)
 3146      000000
 263:../../MMI/Resource/WriteResUtil.c ****             break;
 3148              	LM84:
 3149 0505 EB32     		jmp	L61
 3150              	L64:
 264:../../MMI/Resource/WriteResUtil.c **** 
 265:../../MMI/Resource/WriteResUtil.c ****         case RES_AUDIO:
 266:../../MMI/Resource/WriteResUtil.c ****             ret = AUDIO_TYPE_INVALID;
 3152              	LM85:
 3153 0507 C645EF00 		movb	$0, -17(%ebp)
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 17


 267:../../MMI/Resource/WriteResUtil.c ****             pResource_info = audio_resource_info;
 3155              	LM86:
 3156 050b C745E440 		movl	$_audio_resource_info, -28(%ebp)
 3156      010000
 268:../../MMI/Resource/WriteResUtil.c ****             type_number = sizeof(audio_resource_info) / sizeof(RESOURCE_INFO);
 3158              	LM87:
 3159 0512 C745F00B 		movl	$11, -16(%ebp)
 3159      000000
 269:../../MMI/Resource/WriteResUtil.c ****             break;
 3161              	LM88:
 3162 0519 EB1E     		jmp	L61
 3163              	L65:
 270:../../MMI/Resource/WriteResUtil.c **** 
 271:../../MMI/Resource/WriteResUtil.c ****         default:
 272:../../MMI/Resource/WriteResUtil.c ****             RES_PRINT_INFO("res_type in Extract_Name is invalid!!");
 3165              	LM89:
 3166 051b C7042440 		movl	$LC32, (%esp)
 3166      030000
 3167 0522 E8000000 		call	_MtkResgenTrace
 3167      00
 273:../../MMI/Resource/WriteResUtil.c ****             ret = IMAGE_TYPE_INVALID;
 3169              	LM90:
 3170 0527 C645EF00 		movb	$0, -17(%ebp)
 274:../../MMI/Resource/WriteResUtil.c ****             pResource_info = image_resource_info;
 3172              	LM91:
 3173 052b C745E460 		movl	$_image_resource_info, -28(%ebp)
 3173      000000
 275:../../MMI/Resource/WriteResUtil.c ****             type_number = sizeof(image_resource_info) / sizeof(RESOURCE_INFO);
 3175              	LM92:
 3176 0532 C745F015 		movl	$21, -16(%ebp)
 3176      000000
 3177              	L61:
 276:../../MMI/Resource/WriteResUtil.c ****             break;
 277:../../MMI/Resource/WriteResUtil.c ****     }
 278:../../MMI/Resource/WriteResUtil.c **** 
 279:../../MMI/Resource/WriteResUtil.c ****     for (i = 0; i < type_number; i++)
 3179              	LM93:
 3180 0539 C745F800 		movl	$0, -8(%ebp)
 3180      000000
 3181              	L67:
 3182 0540 8B45F8   		movl	-8(%ebp), %eax
 3183 0543 3B45F0   		cmpl	-16(%ebp), %eax
 3184 0546 7C02     		jl	L70
 3185 0548 EB20     		jmp	L68
 3186              	L70:
 280:../../MMI/Resource/WriteResUtil.c ****     {
 281:../../MMI/Resource/WriteResUtil.c ****         if (pResource_info[i].file_type == ext_type)
 3188              	LM94:
 3189 054a 8B45F8   		movl	-8(%ebp), %eax
 3190 054d 8D14C500 		leal	0(,%eax,8), %edx
 3190      000000
 3191 0554 8B45E4   		movl	-28(%ebp), %eax
 3192 0557 0FB64410 		movzbl	4(%eax,%edx), %eax
 3192      04
 3193 055c 3B4510   		cmpl	16(%ebp), %eax
 3194 055f 7502     		jne	L69
 282:../../MMI/Resource/WriteResUtil.c ****         {
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 18


 283:../../MMI/Resource/WriteResUtil.c ****             break;
 3196              	LM95:
 3197 0561 EB07     		jmp	L68
 3199              	LM96:
 3200              	L69:
 3201 0563 8D45F8   		leal	-8(%ebp), %eax
 3202 0566 FF00     		incl	(%eax)
 3203 0568 EBD6     		jmp	L67
 3204              	L68:
 284:../../MMI/Resource/WriteResUtil.c ****         }
 285:../../MMI/Resource/WriteResUtil.c ****     }
 286:../../MMI/Resource/WriteResUtil.c **** 
 287:../../MMI/Resource/WriteResUtil.c ****     if (i >= type_number)
 3206              	LM97:
 3207 056a 8B45F8   		movl	-8(%ebp), %eax
 3208 056d 3B45F0   		cmpl	-16(%ebp), %eax
 3209 0570 7C09     		jl	L72
 288:../../MMI/Resource/WriteResUtil.c ****     {
 289:../../MMI/Resource/WriteResUtil.c ****         return FALSE;
 3211              	LM98:
 3212 0572 C745E000 		movl	$0, -32(%ebp)
 3212      000000
 3213 0579 EB3D     		jmp	L53
 3214              	L72:
 290:../../MMI/Resource/WriteResUtil.c ****     }
 291:../../MMI/Resource/WriteResUtil.c **** 
 292:../../MMI/Resource/WriteResUtil.c ****     for (j = 0; j < 5; j++)
 3216              	LM99:
 3217 057b C745F400 		movl	$0, -12(%ebp)
 3217      000000
 3218              	L73:
 3219 0582 837DF404 		cmpl	$4, -12(%ebp)
 3220 0586 7E02     		jle	L76
 3221 0588 EB27     		jmp	L74
 3222              	L76:
 293:../../MMI/Resource/WriteResUtil.c ****     {
 294:../../MMI/Resource/WriteResUtil.c ****         *(arr+j) = *(pResource_info[i].filename_ext+j);
 3224              	LM100:
 3225 058a 8B45F4   		movl	-12(%ebp), %eax
 3226 058d 8B5DE8   		movl	-24(%ebp), %ebx
 3227 0590 01C3     		addl	%eax, %ebx
 3228 0592 8B45F8   		movl	-8(%ebp), %eax
 3229 0595 8D0CC500 		leal	0(,%eax,8), %ecx
 3229      000000
 3230 059c 8B55E4   		movl	-28(%ebp), %edx
 3231 059f 8B45F4   		movl	-12(%ebp), %eax
 3232 05a2 03040A   		addl	(%edx,%ecx), %eax
 3233 05a5 0FB600   		movzbl	(%eax), %eax
 3234 05a8 8803     		movb	%al, (%ebx)
 3236              	LM101:
 3237 05aa 8D45F4   		leal	-12(%ebp), %eax
 3238 05ad FF00     		incl	(%eax)
 3239 05af EBD1     		jmp	L73
 3240              	L74:
 295:../../MMI/Resource/WriteResUtil.c ****     }
 296:../../MMI/Resource/WriteResUtil.c **** 
 297:../../MMI/Resource/WriteResUtil.c ****     return TRUE;
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 19


 3242              	LM102:
 3243 05b1 C745E001 		movl	$1, -32(%ebp)
 3243      000000
 298:../../MMI/Resource/WriteResUtil.c **** }
 3245              	LM103:
 3246              	L53:
 3247              	LBE6:
 3248 05b8 8B45E0   		movl	-32(%ebp), %eax
 3249 05bb 83C424   		addl	$36, %esp
 3250 05be 5B       		popl	%ebx
 3251 05bf 5D       		popl	%ebp
 3252 05c0 C3       		ret
 3261              	Lscope7:
 3266              	.globl _str_upper
 3268              	_str_upper:
 299:../../MMI/Resource/WriteResUtil.c **** 
 300:../../MMI/Resource/WriteResUtil.c **** void str_upper(char* str, unsigned int max_length)
 301:../../MMI/Resource/WriteResUtil.c **** {
 3270              	LM104:
 3271 05c1 55       		pushl	%ebp
 3272 05c2 89E5     		movl	%esp, %ebp
 3273 05c4 53       		pushl	%ebx
 3274 05c5 83EC14   		subl	$20, %esp
 302:../../MMI/Resource/WriteResUtil.c ****     unsigned int len = strlen(str);
 3276              	LM105:
 3277              	LBB7:
 3278 05c8 8B4508   		movl	8(%ebp), %eax
 3279 05cb 890424   		movl	%eax, (%esp)
 3280 05ce E8000000 		call	_strlen
 3280      00
 3281 05d3 8945F8   		movl	%eax, -8(%ebp)
 303:../../MMI/Resource/WriteResUtil.c ****     len = min(len, max_length);
 3283              	LM106:
 3284 05d6 8B450C   		movl	12(%ebp), %eax
 3285 05d9 8945F0   		movl	%eax, -16(%ebp)
 3286 05dc 8B45F0   		movl	-16(%ebp), %eax
 3287 05df 3B45F8   		cmpl	-8(%ebp), %eax
 3288 05e2 7606     		jbe	L78
 3289 05e4 8B45F8   		movl	-8(%ebp), %eax
 3290 05e7 8945F0   		movl	%eax, -16(%ebp)
 3291              	L78:
 3292 05ea 8B45F0   		movl	-16(%ebp), %eax
 3293 05ed 8945F8   		movl	%eax, -8(%ebp)
 304:../../MMI/Resource/WriteResUtil.c ****     int i;
 305:../../MMI/Resource/WriteResUtil.c **** 
 306:../../MMI/Resource/WriteResUtil.c ****     for (i = 0; i <= len; ++i)
 3295              	LM107:
 3296 05f0 C745F400 		movl	$0, -12(%ebp)
 3296      000000
 3297              	L79:
 3298 05f7 8B45F4   		movl	-12(%ebp), %eax
 3299 05fa 3B45F8   		cmpl	-8(%ebp), %eax
 3300 05fd 7602     		jbe	L82
 3301 05ff EB22     		jmp	L77
 3302              	L82:
 307:../../MMI/Resource/WriteResUtil.c ****     {
 308:../../MMI/Resource/WriteResUtil.c ****         str[i] = toupper(str[i]);
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 20


 3304              	LM108:
 3305 0601 8B45F4   		movl	-12(%ebp), %eax
 3306 0604 8B5D08   		movl	8(%ebp), %ebx
 3307 0607 01C3     		addl	%eax, %ebx
 3308 0609 8B45F4   		movl	-12(%ebp), %eax
 3309 060c 034508   		addl	8(%ebp), %eax
 3310 060f 0FBE00   		movsbl	(%eax),%eax
 3311 0612 890424   		movl	%eax, (%esp)
 3312 0615 E8000000 		call	_toupper
 3312      00
 3313 061a 8803     		movb	%al, (%ebx)
 3315              	LM109:
 3316 061c 8D45F4   		leal	-12(%ebp), %eax
 3317 061f FF00     		incl	(%eax)
 3318 0621 EBD4     		jmp	L79
 309:../../MMI/Resource/WriteResUtil.c ****     }
 310:../../MMI/Resource/WriteResUtil.c **** }
 3320              	LM110:
 3321              	L77:
 3322 0623 83C414   		addl	$20, %esp
 3323 0626 5B       		popl	%ebx
 3324 0627 5D       		popl	%ebp
 3325 0628 C3       		ret
 3326              	LBE7:
 3331              	Lscope8:
 3338              		.text
 3340              	Letext:
GAS LISTING f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s 			page 21


DEFINED SYMBOLS
                            *ABS*:00000000 WriteResUtil.c
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2482   .text:00000060 _image_resource_info
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2581   .text:00000140 _audio_resource_info
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2618   .data:00000000 _support_media_ext
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2628   .text:00000198 _sequential_image
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2638   .bss:00000000 _g_mtk_resgen_error_flag
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2642   .text:000001b0 _mtk_resgen_has_error
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2659   .text:000001ba _mtk_resgen_set_error
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2676   .text:000001c9 _mtk_resgen_reset_error
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2694   .text:000001d8 _file_exist
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2742   .text:00000216 _is_directory
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2796   .text:0000025b _resgen_compare_file_time
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:2888   .text:00000366 _ExtractExtension
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:3065   .text:00000480 _ChangeExtension
f:/K7_TOUR/CODE/plutommi/Customer/ResGenerator/gcctmp/cc6rbaaa.s:3268   .text:000005c1 _str_upper

UNDEFINED SYMBOLS
_GetFileAttributesA@4
_FindFirstFileA@8
_FindClose@4
_CompareFileTime@8
_toupper
_strcmp
_MtkResgenTrace
_strlen
